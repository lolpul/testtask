package main

import (
    "pr-reviewer-service/database"
    "pr-reviewer-service/handlers"

    "github.com/gin-gonic/gin"
)

func main() {

    database.Connect()
    database.RunMigrations()

    r := gin.Default()


    r.POST("/team/add", handlers.CreateTeam)
    r.GET("/team/get", handlers.GetTeam)

    r.POST("/users/setIsActive", handlers.SetUserActive)
    r.GET("/users/getReview", handlers.GetUserReviews)

    r.POST("/pullRequest/create", handlers.CreatePullRequest)
    r.POST("/pullRequest/merge", handlers.MergePullRequest)
    r.POST("/pullRequest/reassign", handlers.ReassignReviewer)

    r.Run(":8080")
}